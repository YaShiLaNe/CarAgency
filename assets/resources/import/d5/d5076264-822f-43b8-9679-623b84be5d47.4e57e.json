[1,0,0,[["cc.TextAsset",["_name","text"],1]],[[0,0,1,3]],[[0,"tool_lut_gen","<!DOCTYPE html>\r\n<html lang=\"en\">\r\n<head>\r\n    <meta charset=\"UTF-8\">\r\n    <title>Document</title>\r\n    <style type=\"text/css\">\r\n        #layer {\r\n            width: 512px;\r\n            height: 512px;\r\n        }   \r\n    </style>\r\n</head>\r\n<body>\r\n    <canvas id=\"canvas\" width='512' height='512'></canvas>\r\n    <br />\r\n    <a href=\"\" download=\"canvas.png\" id=\"save_href\">下载</a>\r\n</body>\r\n</html>\r\n<script type=\"text/javascript\">\r\n    var c=document.getElementById(\"canvas\");\r\n    function drawLove(canvas){\r\n        let ctx = canvas.getContext(\"2d\");\r\n        ctx.fillStyle=\"#000000\";\r\n        ctx.fillRect(0,0,512,512);\r\n\t\t\r\n\t\tlet cellSize = 512 / 8;\r\n\t\tlet r = 0;\r\n\r\n\t\tlet hTimer = setInterval(function(){\r\n\t\t\tif(r == 256){\r\n\t\t\t\talert('lut is ready');\r\n\t\t\t\tclearInterval(hTimer);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tlet num = 0;\r\n\t\t\twhile(r < 256){\r\n\t\t\t\tfor(let g = 0; g < 256; ++g){\r\n\t\t\t\t\tfor(let b = 0; b < 256; ++b){\r\n\t\t\t\t\t\tlet color = (r << 16) | (g << 8) | b;\r\n\t\t\t\t\t\tcolor = color.toString(16);\r\n\t\t\t\t\t\tcolor = '#' + '000000'.substr(0,6 - color.length) + color;\r\n\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tlet blueIndex = Math.floor(b / 256 * 64);\r\n\t\t\t\t\t\tlet blueX = blueIndex % 8;\r\n\t\t\t\t\t\tlet blueY = Math.floor(blueIndex / 8);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tlet u = Math.floor(r / 256 * cellSize) + blueX * cellSize;\r\n\t\t\t\t\t\tlet v = Math.floor(g/256 * cellSize) + blueY * cellSize;\r\n\t\t\t\t\t\tctx.fillStyle=color;\r\n\t\t\t\t\t\t//console.log(u,v);\r\n\t\t\t\t\t\tctx.fillRect(u,v,1,1);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tr++;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\r\n\t\t},10);\r\n    }\r\n    drawLove(c); \r\n     \r\n    var butSave = document.getElementById(\"save_href\");\r\n    butSave.onclick=function(){\r\n        /*\r\n         * 传入对应想要保存的图片格式的mime类型\r\n         * 常见：image/png，image/gif,image/jpg,image/jpeg\r\n         */\r\n        var tempSrc = canvas.toDataURL(\"image/png\");\r\n        butSave.href=tempSrc; \r\n    }; \r\n</script>"]],0,0,[],[],[]]
